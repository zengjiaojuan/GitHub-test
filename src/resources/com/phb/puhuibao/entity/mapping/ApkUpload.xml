<?xml version="1.0" encoding="UTF-8" ?>   
<!DOCTYPE mapper   
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">   
    
<mapper namespace="com.phb.puhuibao.entity.ApkUpload" >
    <resultMap id="ApkUpload" type="com.phb.puhuibao.entity.ApkUpload">
            <result property="id"                column="id"               jdbcType="INTEGER" />
            <result property="apk"              column="apk"             jdbcType="VARCHAR" />
            <result property="apk_describe"        column="apk_describe"       jdbcType="VARCHAR" />
    	    <result property="type"                column="type"               jdbcType="INTEGER" />    	    
	</resultMap>


  <insert id="insert" useGeneratedKeys="true" keyProperty="id" parameterType="com.phb.puhuibao.entity.ApkUpload">
    insert into phb_android_apk(<include refid="allapplColumn"/>) <include refid="allapplColumnVar"/>
  </insert>

  <update id="update" parameterType="com.phb.puhuibao.entity.ApkUpload">
		update phb_android_apk
		<trim prefix=" SET " prefixOverrides=",">
			<if test="apk != null">
				  ,apk=#{apk,jdbcType=VARCHAR}
			</if>
			<if test="apk_describe != null">
				  ,apk_describe=#{apk_describe,jdbcType=VARCHAR}
			</if>
			<if test="type != null">
				  ,type=#{type,jdbcType=INTEGER}
			</if>
		</trim>
		where id=#{id}
  </update>


  <delete id="delete" parameterType="com.phb.puhuibao.entity.ApkUpload">
    delete from phb_android_apk where id = #{id}
  </delete>
  

  <select id="query" parameterType="java.util.Map" resultMap="ApkUpload">
    select <include refid="allColumn" /> from phb_android_apk <include refid="dynamicWhere" />
  </select>
 
  <select id="findByPager" parameterType="java.util.Map" resultMap="ApkUpload">
    <include refid="queryBody" />
  </select>
  <select id="findByPagerCount" parameterType="java.util.Map" resultType="int" >
	select count(1) from phb_android_apk <include refid="dynamicWhere" />
  </select>
  <select id="unique" parameterType="java.util.Map" resultMap="ApkUpload" >
	select <include refid="allColumn" /> from phb_android_apk <include refid="dynamicWhere" /> limit 1
  </select>

  <select id="getById" parameterType="java.util.Map" resultMap="ApkUpload">
	select <include refid="allColumn" /> from phb_android_apk where id=#{id}
  </select>


  <sql id="allapplColumn">
		    apk	          ,
			apk_describe      ,
			type          	
	</sql>
  <sql id="allapplColumnVar">
		values(				  
		          #{apk     ,       jdbcType=VARCHAR},                 
		          #{apk_describe,       jdbcType=VARCHAR},
		          #{type    ,       jdbcType=INTEGER}		         
		     )
	</sql>
  <sql id="allColumn">
            id            ,
            apk	          ,
			apk_describe  ,
			type          
  </sql>
  <sql id="dynamicWhere">
	<trim prefix="WHERE" prefixOverrides="AND|OR">
		<if test="type!= null">
			AND type = #{type}
		</if>		
	</trim>
  </sql>
  <sql id="queryBody">
	<if test="sno!=null and eno!=null and orderBy!=null">
		select <include refid="allColumn" /> from phb_android_apk
		<include refid="dynamicWhere" />
		limit ${sno-1},${eno}
	</if>
  </sql>	
  
</mapper>